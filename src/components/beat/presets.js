// 16스텝(4/4)용 불리언 배열 유틸
const B = (arr) => (arr.length === 16 ? arr : Array(16).fill(false).map((_, i) => !!arr[i]));

// 기본 프리셋들 (킥/스네어/하이햇)
export const PRESETS = {
  "Four on the floor": {
    kick:  B([1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0]),
    snare: B([0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0]),  // 2,4박
    hat:   B([1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1]),
  },
  "Half-time Trap": {
    kick:  B([1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0]),
    snare: B([0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0]),
    hat:   B([1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0]),
  },
  "Breakbeat": {
    kick:  B([1,0,0,1, 0,0,1,0, 1,0,0,1, 0,0,1,0]),
    snare: B([0,0,1,0, 0,1,0,0, 0,0,1,0, 0,1,0,0]),
    hat:   B([1,1,1,1, 1,1,1,1, 1,1,1,1, 1,1,1,1]),
  },
  "Funk": {
    kick:  B([1,0,0,0, 0,1,0,0, 1,0,0,0, 0,1,0,0]),
    snare: B([0,0,0,0, 1,0,1,0, 0,0,0,0, 1,0,1,0]),
    hat:   B([1,0,1,1, 1,0,1,1, 1,0,1,1, 1,0,1,1]),
  },
  "Dnb": {
    kick:  B([1,0,0,0, 0,0,1,0, 1,0,0,0, 0,0,1,0]),
    snare: B([0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0]),
    hat:   B([1,0,1,0, 1,0,1,0, 1,0,1,0, 1,0,1,0]),
  },
  "House Shuffle": {
    kick:  B([1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0]),
    snare: B([0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0]),
    hat:   B([1,0,1,0, 1,1,1,0, 1,0,1,0, 1,1,1,0]),
  },
  "Minimal": {
    kick:  B([1,0,0,0, 0,0,0,0, 1,0,0,0, 0,0,0,0]),
    snare: B([0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0]),
    hat:   B([1,0,0,0, 1,0,0,0, 1,0,0,0, 1,0,0,0]),
  },
  "Busy Hats": {
    kick:  B([1,0,0,0, 0,0,1,0, 0,0,0,0, 1,0,0,0]),
    snare: B([0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0]),
    hat:   B([1,1,0,1, 1,1,0,1, 1,1,0,1, 1,1,0,1]),
  },
};

// 딥카피
export const clonePattern = (p) => ({
  kick:  [...p.kick],
  snare: [...p.snare],
  hat:   [...p.hat],
});
